<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
    <title>2021-07-26-sidebar-toggle</title>
</head>

<body>
    <div class="top-navbar">
        <a href="/index.html">Home</a>
    </div>

    <div class="container">
        <div class="side"><span>Sidebar</span> <button class="side-btn"><i class="fas fa-times"></i></button>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
            <p>menu</p>
        </div>
        <div class="main">
            <div class="main-disabled-layer"></div>
            <div class="nav"><button class="nav-btn"><i class="fas fa-bars"></i></button></div>
            <div class="content">
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptates voluptatem sapiente provident
                    beatae fuga delectus, soluta dolorum consequatur amet eius obcaecati minima ratione accusamus itaque
                    autem ducimus voluptatibus! Molestias vel cupiditate, pariatur inventore quidem repudiandae
                    laboriosam quis consequatur ipsa esse sint dolorem dicta architecto deserunt aut cum maxime vero
                    expedita hic voluptatum? Expedita ipsam doloribus est earum aut? Temporibus cumque laborum hic,
                    consequatur vel provident, expedita laboriosam, itaque in fuga praesentium dignissimos ad
                    reprehenderit ex nihil debitis aspernatur officiis recusandae! Nobis eveniet excepturi, vero error
                    accusamus sequi, libero maiores placeat itaque blanditiis minus dolores. Commodi temporibus fugiat,
                    veniam accusantium dignissimos ratione ad sapiente delectus pariatur tenetur! Modi odit accusantium
                    eaque neque blanditiis, dolorum facilis veniam maxime voluptatem rem nostrum beatae explicabo, quam
                    minus suscipit voluptatum sequi consequuntur corporis quia et! Dolore incidunt, mollitia
                    voluptatibus cupiditate culpa quisquam. Laboriosam, laborum magnam expedita omnis velit amet
                    voluptate laudantium fugiat non nihil perferendis illo suscipit id molestiae. Vel, deleniti nostrum
                    nam blanditiis similique veritatis reprehenderit illum temporibus aspernatur nobis magnam unde. Quia
                    ipsam esse cumque explicabo repellendus quam incidunt error quas aperiam itaque enim expedita totam
                    nemo ducimus, voluptatem sit magnam recusandae dolores, in similique quo harum laborum. Voluptatem
                    beatae natus officia cum?</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
                <p>lorem</p>
            </div>
        </div>
    </div>

    <script>
        const sidebar = document.querySelector('.side')
        const main = document.querySelector('.main')
        const mainDisabledLayer = document.querySelector('.main-disabled-layer')

        function sidebarIsShown() { return !sidebar.classList.contains('side-hide') }
        function windowWidthIsMobile() { return window.innerWidth < 768 }

        function removemainDisabledLayer() { mainDisabledLayer.classList.remove('show-layer') }
        function showSidebar() { sidebar.classList.remove('side-hide') }
        function shrinkMain() { main.classList.remove('main-full') }

        function disableMainWhenSidebarIsShown() {
            if (!main.classList.contains('main-full')) main.classList.add('main-full')
            if (!mainDisabledLayer.classList.contains('show-layer')) mainDisabledLayer.classList.add('show-layer')
        }

        function expandMainAndHideSidebar() {
            if (!main.classList.contains('main-full')) main.classList.add('main-full')
            if (!sidebar.classList.contains('side-hide')) sidebar.classList.add('side-hide')
        }

        window.onresize = () => {
            if (sidebarIsShown()) {
                if (windowWidthIsMobile()) {
                    disableMainWhenSidebarIsShown()
                } else {
                    shrinkMain()
                    removemainDisabledLayer()
                }
            }
        }

        const btnSideClose = document.querySelector('.side-btn')
        btnSideClose.addEventListener('click', () => {
            expandMainAndHideSidebar()
            removemainDisabledLayer()
        })
        mainDisabledLayer.addEventListener('click', () => {
            expandMainAndHideSidebar()
            removemainDisabledLayer()
        })

        const btnNav = document.querySelector('.nav-btn')
        btnNav.addEventListener('click', () => {
            if (!sidebarIsShown()) {
                if (windowWidthIsMobile()) {
                    showSidebar()
                    disableMainWhenSidebarIsShown()
                } else {
                    shrinkMain()
                    showSidebar()
                }
            } else {
                expandMainAndHideSidebar()
            }
        })
    </script>
</body>

</html>